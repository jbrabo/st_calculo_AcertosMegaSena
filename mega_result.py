#IMPORTANDO BIBLIOTECAS
#manipulação de dados
import pandas as pd

#visualização de dados dinâmicos
import streamlit as st

#Título do aplicativo
st.write("""
### Conferência dos Resultados da Mega Da Virada\n
                
         """)


dict_Mega = {'n1': {0: 7, 1: 5,  2: 4,  3: 4,  4: 1,  5: 3,  6: 1,  7: 19,  8: 21,  9: 3,  10: 6,  11: 9,  12: 11,  13: 9, 14: 15,  15: 3,  16: 4,  17: 36,  18: 14, 19: 7,  20: 14,  21: 11,  22: 7,  23: 5,  24: 5,  25: 13,  26: 5,  27: 24,  28: 13,  29: 12,  30: 9, 31: 8,  32: 6,  33: 7,  34: 12,  35: 6,  36: 7,  37: 7,  38: 8,  39: 26,  40: 4,  41: 11}, 'n2': {0: 13,  1: 6,  2: 5,  3: 9,  4: 2,  5: 5,  6: 2,  7: 23,  8: 22,  9: 17,  10: 13,  11: 22,  12: 16,  13: 11,  14: 30,  15: 6,  16: 8,  17: 39,  18: 25,  19: 25,  20: 30,  21: 35,  22: 9,  23: 30, 24: 21,  25: 16,  26: 14,  27: 37,  28: 21,  29: 33,  30: 14,  31: 20,  32: 9,  33: 16,  34: 20,  35: 20,  36: 8,  37: 17,  38: 10,  39: 29,  40: 25,  41: 16}, 'n3': {0: 38,  1: 7,  2: 7,  3: 18,  4: 17,  5: 25,  6: 6,  7: 24,  8: 36,  9: 24,  10: 16,  11: 28,  12: 25,  13: 27,  14: 41,  15: 22,  16: 10,  17: 42,  18: 26,  19: 31,  20: 34,  21: 36,  22: 17,  23: 32,  24: 30,  25: 19,  26: 19,  27: 40,  28: 21,  29: 40,  30: 28,  31: 47,  32: 14,  33: 22,  34: 22,  35: 27,  36: 15,  37: 20,  38: 22,  39: 31,  40: 29,  41: 17}, 'n4': {0: 42,  1: 8,  2: 16,  3: 28,  4: 42,  5: 26,  6: 17,  7: 47,  8: 44,  9: 26,  10: 24,  11: 31,  12: 45,  13: 35,  14: 43,  15: 29,  16: 12,  17: 49,  18: 40,  19: 34,  20: 39,  21: 39,  22: 25,  23: 39,  24: 31,  25: 20,  26: 41,  27: 43,  28: 32,  29: 50,  30: 29,  31: 57,  32: 26,  33: 30,  34: 26,  35: 38,  36: 22,  37: 33,  38: 23,  39: 48,  40: 35,  41: 26}, 'n5': {0: 48,  1: 26,  2: 34,  3: 33,  4: 52,  5: 37,  6: 34,  7: 56,  8: 54,  9: 36,  10: 45,  11: 32,  12: 47,  13: 50,  14: 55,  15: 43,  16: 26,  17: 57,  18: 54,  19: 39,  20: 40,  21: 47,  22: 34,  23: 52,  24: 32,  25: 51,  26: 48,  27: 48,  28: 41,  29: 57,  30: 31,  31: 58,  32: 43,  33: 31,  34: 46,  35: 42,  36: 39,  37: 40,  38: 24,  39: 53,  40: 42,  41: 43}, 'n6': {0: 60,  1: 29,  2: 46,  3: 34,  4: 53,  5: 60,  6: 47,  7: 57,  8: 58,  9: 38,  10: 55,  11: 35,  12: 58,  13: 52,  14: 60,  15: 45,  16: 59,  17: 58,  18: 60,  19: 44,  20: 45,  21: 49,  22: 43,  23: 57,  24: 51,  25: 56,  26: 57,  27: 49,  28: 49,  29: 59,  30: 32,  31: 59,  32: 55,  33: 39,  34: 55,  35: 60,  36: 59,  37: 46,  38: 40,  39: 57,  40: 57,  41: 46}}
df = pd.DataFrame(dict_Mega)
df.columns = ['n1','n2','n3','n4','n5','n6']
df['Acertos'] = 0

def confereJogo(resultado,jogos):
    resultado = resultado.split(',')
    for i, jogo in jogos.iterrows():
        acertos = 0
        for r in resultado:
            r = int(r)
            for j in jogo:
                if r == j:
                    acertos +=1
                    break
                else:
                    pass
        jogos['Acertos'].loc[i] = acertos 
    return jogos
            


#CABEÇALHO
st.subheader('Jogos Do Acamp')

#Nome do usuário
result_input = st.sidebar.text_input('Digite o resultado da Mega Da Virada:')
st.write('Resultado da Megada Virada: ', result_input)
if st.sidebar.button('Calcular Acertos'):
    df = confereJogo(result_input, df)

st.table(df)
